name: Translate README (Alternative - action-translate-readme)

# –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π workflow –∏—Å–ø–æ–ª—å–∑—É—è action-translate-readme
# –≠—Ç–æ—Ç action –ø–∞—Ä—Å–∏—Ç Markdown —á–µ—Ä–µ–∑ AST –∏ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —É–∑–ª—ã
# –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —ç—Ç–æ—Ç —Ñ–∞–π–ª –∏ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ auto-translate-readmes.yml –µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

on:
  push:
    branches:
      - main
    paths:
      - 'README.md'
  workflow_dispatch:

jobs:
  translate:
    runs-on: ubuntu-latest
    permissions:
      contents: write
    
    steps:
      - name: Checkout repository
        uses: actions/checkout@v5
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
      
      - name: Translate to Russian
        uses: Lin-jun-xiang/action-translate-readme@main
        with:
          LANG: ru
          FILE_PATH: README.md
          TARGET_FILE_PATH: README.ru.md
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
      
      - name: Translate to Chinese
        uses: Lin-jun-xiang/action-translate-readme@main
        with:
          LANG: zh-CN
          FILE_PATH: README.md
          TARGET_FILE_PATH: README.zh-CN.md
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
      
      - name: Translate to Spanish
        uses: Lin-jun-xiang/action-translate-readme@main
        with:
          LANG: es
          FILE_PATH: README.md
          TARGET_FILE_PATH: README.es.md
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
      
      - name: Commit and push translations
        run: |
          git config --local user.email "github-actions[bot]@users.noreply.github.com"
          git config --local user.name "github-actions[bot]"
          git add README.ru.md README.zh-CN.md README.es.md
          if git diff --staged --quiet; then
            echo "‚ú® No changes to commit"
          else
            git commit -m "üåç chore: auto-update README translations [skip ci]"
            git push
          fi

