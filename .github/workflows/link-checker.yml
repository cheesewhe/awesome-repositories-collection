name: Link Checker

# ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð²ÑÐµÑ… ÑÑÑ‹Ð»Ð¾Ðº Ð² README Ñ„Ð°Ð¹Ð»Ð°Ñ… Ð½Ð° Ñ€Ð°Ð±Ð¾Ñ‚Ð¾ÑÐ¿Ð¾ÑÐ¾Ð±Ð½Ð¾ÑÑ‚ÑŒ

on:
  push:
    branches:
      - main
    paths:
      - 'README*.md'
  pull_request:
    branches:
      - main
    paths:
      - 'README*.md'
  schedule:
    # Ð—Ð°Ð¿ÑƒÑÐºÐ°Ñ‚ÑŒ ÐµÐ¶ÐµÐ½ÐµÐ´ÐµÐ»ÑŒÐ½Ð¾ Ð¿Ð¾ Ð¿Ð¾Ð½ÐµÐ´ÐµÐ»ÑŒÐ½Ð¸ÐºÐ°Ð¼ Ð² 3:00 UTC
    - cron: '0 3 * * 1'
  workflow_dispatch:

jobs:
  check-links:
    runs-on: ubuntu-latest
    timeout-minutes: 10
    
    steps:
      - name: Checkout repository
        uses: actions/checkout@v5
      
      - name: Set up Node.js
        uses: actions/setup-node@v6
        with:
          node-version: '20'
      
      - name: Install link checking tools
        run: |
          npm install -g markdown-link-check
      
      - name: Check links with markdown-link-check
        continue-on-error: true
        run: |
          echo "ðŸ” Checking links in README files..."
          
          # ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼ Ð²ÑÐµ markdown Ñ„Ð°Ð¹Ð»Ñ‹
          find . -name "README*.md" -o -name "CONTRIBUTING.md" -o -name "AUTOMATION.md" | \
          while read file; do
            echo "Checking: $file"
            markdown-link-check "$file" --config .github/link-check-config.json || true
          done
          
          # ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼ Ñ„Ð°Ð¹Ð»Ñ‹ Ð² theses
          find ./theses -name "*.md" 2>/dev/null | \
          while read file; do
            echo "Checking: $file"
            markdown-link-check "$file" --config .github/link-check-config.json || true
          done
          echo "âœ… Link checking completed!"

